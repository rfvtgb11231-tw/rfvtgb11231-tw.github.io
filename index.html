<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>犬、貓美容服務定型化契約</title>

<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans TC",sans-serif;
  background:#FFF3E0;
  color:#333;
}

.container{
  max-width:720px;
  margin:0 auto;
  padding:16px;
}

.card{
  background:#fff;
  border-radius:16px;
  padding:20px;
  margin-bottom:16px;
  box-shadow:0 4px 12px rgba(0,0,0,.06);
}

h1{font-size:22px;margin:0 0 12px;}
h3{font-size:16px;margin:16px 0 8px;}

#contractContent{
  height:360px;
  overflow-y:auto;
  padding:16px;
  border-radius:12px;
  background:#FFF8EE;
  border:1px solid #f0e0c8;
  line-height:1.9;
  font-size:15px;
}

.agree-box{
  display:flex;
  gap:8px;
  margin-top:12px;
  font-weight:bold;
}

canvas{
  width:100%;
  height:180px;
  border:2px dashed #ccc;
  border-radius:8px;
  background:#fafafa;
  touch-action:none;
}

.sign-actions{
  display:flex;
  justify-content:flex-end;
  margin-top:8px;
}

button{
  padding:10px 14px;
  border:none;
  border-radius:8px;
  font-size:14px;
}

.clear-btn{
  background:#eee;
}

.next-btn{
  width:100%;
  margin-top:12px;
  background:#ccc;
  color:#666;
  font-size:16px;
}

.next-btn.enabled{
  background:#333;
  color:#fff;
}
</style>
</head>

<body>
<div class="container">

<!-- 店家資訊 -->
<div class="card">
  <h1>寵物美容服務定型化契約</h1>
  <p>公司名稱：有吉寵物精品美容 SPA</p>
  <p>地址：台中市南區工學北路115號</p>
  <p>官方 LINE：@422xxuvm</p>
</div>

<!-- 契約 -->
<div class="card">
<h3>契約內容（請完整閱讀）</h3>

<div id="contractContent">
犬、貓美容服務定型化契約範本  
（中華民國114年6月9日 農業部農護字第1140072572號）

【簽約注意事項】
一、本契約審閱期間不得少於一日。
二、乙方應於訂約前充分說明契約內容。
三、本契約屬定型化契約。

第一條（契約目的與範圍）
犬、貓美容服務係指外部清潔、吹乾、梳毛、修剪及造型，不得涉及醫療行為。

第二條（資訊揭露義務）
乙方應公告本契約於營業場所。

第三條（基本資料）
應記載犬、貓、甲方及乙方資料。

第四條（服務內容說明）
乙方應事前說明服務項目、費用。

第五條（詢問與照護義務）
乙方應確認犬、貓健康狀況。

第六條（異常或死亡處理）
應即時處理並通知甲方。

第七條（繳款方式）
□ 現金 □ 信用卡 □ 其他

第八條（服務前解除契約）
甲方得於服務前解除。

第九條（服務後終止契約）
依實際服務比例退費。

第十條（可歸責乙方）
應全額退費並賠償。

第十一條（不可歸責雙方）
依實際情況處理。

第十二條（逾時接回）
乙方得酌收費用。

第十三條（無法接回）
乙方應妥善照護。

第十四條（費用明確性）
費用應清楚標示。

第十五條（預收費用保障）
乙方應提供保障。

第十六條（個資保護）
應遵守個資法。

第十七條（違約賠償）
違約方負賠償責任。

第十八條（履行輔助人）
視同本人行為。

第十九條（申訴方式）
甲方得申訴。

第二十條（管轄法院）
乙方所在地法院。

第二十一條（契約效力）
自簽署日起生效。

第二十二條（其他約定）
____________________________
</div>

<div class="agree-box">
  <input type="checkbox" id="agree" disabled>
  <label for="agree">我已完整閱讀並同意上述契約內容</label>
</div>

<h3>甲方手寫簽名</h3>
<canvas id="sign"></canvas>
<div class="sign-actions">
  <button class="clear-btn" id="clearSign">清除簽名</button>
</div>

<button id="nextBtn" class="next-btn" disabled>
下一步：填寫確認表單
</button>

</div>
</div>

<script>
const content = document.getElementById("contractContent");
const agree = document.getElementById("agree");
const btn = document.getElementById("nextBtn");

content.addEventListener("scroll",()=>{
  if(content.scrollTop+content.clientHeight>=content.scrollHeight-5){
    agree.disabled=false;
  }
});

// 簽名
const canvas=document.getElementById("sign");
const ctx=canvas.getContext("2d");
canvas.width=canvas.offsetWidth;
canvas.height=canvas.offsetHeight;
ctx.lineWidth=2;
ctx.lineCap="round";

let drawing=false, signed=false;

function pos(e){
  const r=canvas.getBoundingClientRect();
  return {x:(e.touches?e.touches[0].clientX:e.clientX)-r.left,
          y:(e.touches?e.touches[0].clientY:e.clientY)-r.top};
}

function start(e){drawing=true; signed=true; const p=pos(e); ctx.beginPath(); ctx.moveTo(p.x,p.y);}
function move(e){if(!drawing)return; const p=pos(e); ctx.lineTo(p.x,p.y); ctx.stroke();}
function end(){drawing=false; checkReady();}

canvas.addEventListener("mousedown",start);
canvas.addEventListener("mousemove",move);
canvas.addEventListener("mouseup",end);
canvas.addEventListener("touchstart",start);
canvas.addEventListener("touchmove",move);
canvas.addEventListener("touchend",end);

document.getElementById("clearSign").onclick=()=>{
  ctx.clearRect(0,0,canvas.width,canvas.height);
  signed=false;
  btn.disabled=true;
  btn.classList.remove("enabled");
};

agree.addEventListener("change",checkReady);

function checkReady(){
  if(agree.checked && signed){
    btn.disabled=false;
    btn.classList.add("enabled");
  }
}
</script>

</body>
</html>